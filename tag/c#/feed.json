{
    "version": "https://jsonfeed.org/version/1",
    "title": "wuhen's blog • All posts by \"c#\" tag",
    "description": "",
    "home_page_url": "https://blog.wuhen.one",
    "items": [
        {
            "id": "https://blog.wuhen.one/2021/05/08/C#%E8%AF%BB%E5%86%99json%E6%96%87%E4%BB%B6%E2%80%94%E2%80%94Newtonsoft/",
            "url": "https://blog.wuhen.one/2021/05/08/C#%E8%AF%BB%E5%86%99json%E6%96%87%E4%BB%B6%E2%80%94%E2%80%94Newtonsoft/",
            "title": "C# 读写json文件",
            "date_published": "2021-05-07T19:50:11.578Z",
            "content_html": "<h2 id=\"c-读写json文件\"><a class=\"markdownIt-Anchor\" href=\"#c-读写json文件\">#</a> C# 读写 json 文件</h2>\n<p>实验环境：VS2017（宇宙最最屌 IDE）</p>\n<p><strong>1. 安装 Newtonsoft.Json</strong></p>\n<p><img src=\"https://user-images.githubusercontent.com/48900845/115116802-2f440b80-9fce-11eb-8ba2-f018cbc7c933.png\" alt=\"image\"></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">在控制台输入，回车。</span><br><span class=\"line\">Install-Package Newtonsoft.Json</span><br></pre></td></tr></table></figure>\n<p><img src=\"https://user-images.githubusercontent.com/48900845/115116818-41be4500-9fce-11eb-9def-fe2cf1374bbf.png\" alt=\"image\"></p>\n<p>然后在所需的项目添加引用。</p>\n<p><img src=\"https://user-images.githubusercontent.com/48900845/115116824-4daa0700-9fce-11eb-9c0f-328ba748522d.png\" alt=\"image\"></p>\n<p><img src=\"https://user-images.githubusercontent.com/48900845/115116830-539fe800-9fce-11eb-9506-8fd3e31cbe8e.png\" alt=\"image\"></p>\n<p>找到安装目录选择相应版本。</p>\n<span id=\"more\"></span>\n<p><strong>2. 新建一个 config.json 文件。(名字各位大爷随意)</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">&#123;</span><br><span class=\"line\">  &quot;server&quot;: &quot;.&quot;,</span><br><span class=\"line\">  &quot;user&quot;: &quot;sa&quot;,</span><br><span class=\"line\">  &quot;passwd&quot;: &quot;n123456&quot;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><strong>3.Read</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">using System;</span><br><span class=\"line\">using System.Collections.Generic;</span><br><span class=\"line\">using System.Linq;</span><br><span class=\"line\">using System.Text;</span><br><span class=\"line\">using System.Threading.Tasks;</span><br><span class=\"line\">using System.Configuration;</span><br><span class=\"line\">&#x2F;&#x2F;记得引用这几个玩意</span><br><span class=\"line\">using Newtonsoft.Json;</span><br><span class=\"line\">using Newtonsoft.Json.Linq;</span><br><span class=\"line\">using System.IO;</span><br><span class=\"line\"></span><br><span class=\"line\">namespace 操作json与xml</span><br><span class=\"line\">&#123;</span><br><span class=\"line\">    class ReadJson</span><br><span class=\"line\">    &#123;</span><br><span class=\"line\">        public static string Get_server()</span><br><span class=\"line\">        &#123;</span><br><span class=\"line\">        \ttry</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">            \tStreamReader reader &#x3D; File.OpenText(&quot;config.json&quot;);</span><br><span class=\"line\">            \tJsonTextReader jsonTextReader &#x3D; new JsonTextReader(reader);</span><br><span class=\"line\">           \t \tJObject jsonObject &#x3D; (JObject)JToken.ReadFrom(jsonTextReader);</span><br><span class=\"line\">            \tstring server &#x3D; jsonObject[&quot;server&quot;].ToString(); &#x2F;&#x2F;user ,passwd 类似</span><br><span class=\"line\">            \treader.Close();</span><br><span class=\"line\">            \treturn server;</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            catch</span><br><span class=\"line\">            &#123;</span><br><span class=\"line\">            \t&#x2F;&#x2F;自己加点</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"></span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<p><strong>4.Write</strong></p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">public static void Set_server(string server)</span><br><span class=\"line\">       &#123;</span><br><span class=\"line\">       \ttry</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">           \tStreamReader reader &#x3D; File.OpenText(&quot;config.json&quot;);</span><br><span class=\"line\">           \tJsonTextReader jsonTextReader &#x3D; new JsonTextReader(reader);</span><br><span class=\"line\">          \t \tJObject jsonObject &#x3D; (JObject)JToken.ReadFrom(jsonTextReader);</span><br><span class=\"line\">           \tjsonObject[&quot;server&quot;] &#x3D; server; &#x2F;&#x2F;user ,passwd 类似</span><br><span class=\"line\">           \treader.Close();</span><br><span class=\"line\">           \tstring output &#x3D; Newtonsoft.Json.JsonConvert.SerializeObject(jsonObject, Newtonsoft.Json.Formatting.Indented);</span><br><span class=\"line\">               File.WriteAllText(&quot;config.json&quot;, output);</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">           catch</span><br><span class=\"line\">           &#123;</span><br><span class=\"line\">           \t&#x2F;&#x2F;自己加点</span><br><span class=\"line\">           &#125;</span><br><span class=\"line\">       &#125;</span><br><span class=\"line\"></span><br></pre></td></tr></table></figure>\n<blockquote>\n<p>作者 info</p>\n<p>作者：DebugWuhen</p>\n<p>原创公众号：『DebugWuhen』，专注于记录有趣的编程技术和有益的程序人生，期待你的关注。</p>\n<p>转载说明：务必注明来源（注明：来源于公众号：DebugWuhen， 作者：DebugWuhen）</p>\n<p><img src=\"https://user-images.githubusercontent.com/48900845/112752163-3b0e6480-9004-11eb-899d-66ddef749c2b.png\" alt=\"image\"></p>\n</blockquote>\n",
            "tags": [
                "C#"
            ]
        }
    ]
}